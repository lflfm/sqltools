+ finish adding ActivePrimeExecutionOnOff
+ Implement "Open Files" docking window
+ disable help button in setting dialog
+ replace context menu filer with simple checks
+ autocomplte is broken for subobjects
+ add help to "Find in Files"

add edge viewer for html values
restore workspace as workspace instead of snapshot
add nuclear "cancel" - abandom the current connection

unicode coverion todo list:
    *) FF: avoid scanning same file twice
    *) FF: add mutex for acessing some members
    *) FF: open file with selectin match, convert inx to pos
    *) FF: add regExp menu
    *-) FF: add menu-button to add/delete/replace folder components (use _AfxAbbreviateName)
    *) FF: polish the dialog
    * ) FF: in memory search for open files
    
    * ) FF: grab the current word or selection, shared context with editor search (F3)
    * ) FF: implement taranslate backslash sequences
    * ) FF: add default for mask list 
    * ) FF: fix context menu - enable/disable items depends on node type
    * ) FF: close Result window on Cancel
    - ) FF: move focus to editor on double click
    * ) FF: select the first item in the result list
    * ) FF: handle <Enter> in the result list
    - ) FF: save windows position
    - ) FF: vaidate composite folders [and file masks]

    6 ) FF: configurable font for output window
    7 ) FF: posible new shortut for go next / prev match
    8 ) FF: <curr-file-folder>, {open-file-folders}
    9 ) FF: append result instead of replacing or pin result
    10) FF: posibly show line before and after in the tooltip (for text and sql files)

    3) GetLineW use insted of GetLineA for all external use of OE
    4?) conver to unicode version of GetCellStr
    5) review and conver all oci procedures to unicode regardles their usage in the project
    6) resizable connect dialog

    *) restored tooltip functionality for mdi tabs
    *) added paranoic filter to the custom shell context menu
    *) find why object list is running on startup while it is sill hidden
    *) fixed status bar messages
    *) SELECT Dump('поро') FROM dual; cuts the output value
    *) SELECT * FROM all_sdo_styles;
    *) add coding page menu!
    *) fix popup viewer wich truncates the content of cell
    *) fix drag & drop from the grid into the editor





/c=scott/tiger@w2k-10g:1521:test10 E:\_CPP\sqlt.19\TestFiles\current.sql

    exlore posibilty to use double acceplerators like Ctrl+K,Ctrl+F

    + one xml choice with dedicted customization page
    + add insert format for export as utility with dialog to choose columns and destination, 
    12c NUMBER(12) GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 NOCACHE ORDER )
    + Feature Request: CSV Export Default File Name


+ change default size for autocomplete window
+ fix presentation of column autocomplete
+ add CASE to sql analyzer
code formatter
*    http://www.dpriver.com/pp/sqlformat.htm
    http://beza1e1.tuxen.de/articles/formatting_code.html
    http://journal.stuffwithstuff.com/2015/09/08/the-hardest-program-ive-ever-written/
    https://solutioncenter.apexsql.com/sql-formatting-standards-joins-lists-structure-operations/
    https://github.com/jdorn/sql-formatter/blob/master/lib/SqlFormatter.php
    https://sourceforge.net/projects/fsqlf/?source=navbar

    grid popup viewer -> with xml/html support, activate on Ctrl+F2 or Ctrl+Lefft Mouse Button, do not calcel scrolling on ctrl, shift and alt
        save window position and tab choice
        https://www.codeproject.com/Articles/3365/Embed-an-HTML-control-in-your-own-window-using-pla
        https://social.msdn.microsoft.com/Forums/Sharepoint/en-US/d78042ce-e4ef-427b-8183-be02a7ab8742/chtmlview-an-xml-content-doesnt-appear-when-loaded-from-memory-stream-but-html-content-does?forum=vcmfcatl
        https://groups.google.com/forum/#!topic/microsoft.public.inetsdk.programming.html_objmodel/-lfx7r-IA4g
        http://www.44342.com/webbrowser-control-f125-t1735-p1.htm
        https://msdn.microsoft.com/en-us/library/5hhehwba.aspx
    HTML Clipboard Format
        https://msdn.microsoft.com/en-us/library/aa767917.aspx
        https://support.microsoft.com/en-us/help/274308/how-to-add-html-code-to-the-clipboard-by-using-visual-c
        https://www.w3schools.com/bootstrap/bootstrap_collapse.asp
    favorites/projects
    add diff
    formatter?
    ?more control over header upper/lower case depends on format
    move some mouse handling logic from GridView to GridManager

    save/reload hitory on switching of tasks
    add storage clause (particularly CACHE) for CLOBs

  2 copy content command - copy all files in clipboard, xml header and content of all non- saved files
  3 implement save session in the same way 
  6 Show drag&drop result in tooltip!
  1 do not forget cyclical clipboard buffer

--/c=scott/tiger@w2k-10g:1521:test10 
--/c=scott/tiger@192.168.56.1:1521:soadb


NEW copy for selected range of grid cells and drag&drop:
    + why i see range selection after clicking on any cell? 
    + some menu are not available
    + with no item selected, click with shift breaks selection process
    + grid context menu in top left corner
    + option to enable/disable 
    + propagate changes in GridWnd
    ? right click on header should not select the column
    + copy, drag should fetch data first
    + deferred drag&drop
    + inroduce new format oracle pls/sql
    + new drag and drop
    + copy from grid adds endl
    + handle ' in string values
    + check to_timestamp backcast

    + refine copy commands (menu...)
    + refine save, use selection
    + use selected range for "open in editor" and "save" 
    + unexpected bihavior on tab with single-line columnar selection?
    + replace function GetCellStr/GetCellStrForExport with procedures
    + simplify menu for grid output 
    + check save logic for plan grid (no shift options)
    + click on grid row number can be ridiculously slow because it initiates drag and calculation based on all rows

    + Open files loses selction after file being renamed
    + save order of workspace tabs, save last file seq#

// xmltype (https://sourceforge.net/p/tora/code/HEAD/tree/trunk/tora/extlibs/trotl/src/trotl_xml.cpp)
// config for session stats
    // grep replacent
    // new buff implementation, use ostringstream of TextOutputInMEM collecting offsets and lengths. TextOutputInMEM will allow string dedupliction
    // grid search, sort and multi cell selection

tripleclick https://blogs.msdn.microsoft.com/oldnewthing/20041018-00/?p=37543

++ In MS Word or also simple tools like Notepad if I doubleclick on a single word it selects it (same in SQLTools), 
   but when I hold the mousekey at the end of the second click and move across to the next word it selects the whole next word and so on...
++ FindSelected
++ use relative path in workspaces
++ go to active document location does not work if FilePanel was not open before
++ add extra pixel between line number and record state coloring
++ save combobox history in raw format if settings storage is ini-file
++ new extension for snapshots
++ _pid for AS snapshots
++ _ separator between date and time components

! a new workspce still has to be created explicitly
++ autosaving will use the current workspace as prefix
++ autosave snapshots might be deleted on normal exit
++ create a new settings page for workspaces
++ workspace name in application title

++ bug, <> in tooltips comment column
+ remove history entry
+ remove if file/workspace does not exist anymore
+ process shutdown/log off correctly

+ openng/closing/modification of any file makes workspace modified
+ "Save all" - save active workspace as well
+ "Open Workspace" calls "Close Workspace" first
+ "Close Workspace" asks to save and then closes all documents
+ "Close All Files" calls "Close Workspace" if there is one

// + cache grid manual resize
// + For file during execution
// + adaptive long painting in grid
// + hadndle errors like 3113
// + add buffer for output
// + make sure that all oci objects are destroyed in background thread
// + add check to vars and host arrays
// + fix AskIfUserWantToStopOnErrorNote timeout
// + Data grid fix, "Copy All" locks the clipboard if the cursor is still open but fetch is not possible because connection is busy
// + Output message for expanded substitution is not resided to max possible size
// + Ether hide or make very narrow unused columns in explain plan view
// + Add drag & drop column with data type

// +SELECT * FROM xdual;
// +The application hangs on attempt to close a window with open cursor if another is running
// +Cannot copy text if a script is running
// +Fetch after closing the connection

// +Disable data grid while script is running
// +Time progress for quick queries

// +make document read only
// +ask confirmation to close window if there is active task / don't ask if that was done on application level

// +add cancel for quick query and count
// +add cancel to keymap
// +add append to table transformer
// +print execution time for the current statement
// -/+ keep statement highlited as long as it is running
// +/- cursor follow execution (add checkbox in dialog)
// + return to orginal pos
// +replace goto with scroll to & setexecution line
// +disable all sql menu while script execution
// +save r-o document
// +ignore notificaton about a file change if it is r/o mode

// - export, implemnt as task for syncronizition with fetch task
// + move data fetch in background
    // + replace vector with deque in StringTable
    // + size limit
    // +/- autofit, exclude manually resized columns!
    // +/- replace m_cacheItems with small cache, manual resized items and autofit items
     

// +/- warn if queue is not empty
// support for 2 sessions
// + progress indicator on icon
// add alternative mode for table transformer (oltp vs wharehouse)
// + why new doc saved w/o ext?
// live statistics tab

sqltools fails to create incomplete declaration for type with authid:
type dr$opttf_impl_t authid current_user as object(

// comments in JAVA
// grants for JAVA?
// Clipboard ring
    queue
    if the last operation was from CR
        then undo the last operation, pop_front and push_back that item, paste from front
    else
        paste from front
              
// add name of task to DoSqlForSel
// remove selection after dropping objects
// restore background connection if the main one is still fine (ping main)
// close background connection if the main one is down (test)
// not too complex
// recyclebin list: aggregate partition size to table/index level 
// add support for external tables
// Suppress partition list for local indexes

-------------------------------------------------------------------------------
try activate column/proc looukup if the current chat is not .
synonym for procedures need to have automatic arguments lookup
open in package breaks the syntax analyzer (see dbms_metadata)
drag and drop in Object Viewer
drag corner button on editor
change color background for selected lines - e.i. mark working/reviwed area
add Ctrl+F12, dbms_meta to object viewer
Object Viewer:


change description of drag&drop forms for index and constraint


synonym for object with db link does not have dependencies
cannot copy from combo box of ObjectViewer
cannot copy headers when grid has 0 records
Exception on right click in OpenFiles on file deleted outside


// etOPEN can be identifier
begin 
dbms_metadata.set_transform_param(
DBMS_METADATA.SESSION_TRANSFORM,
'SQLTERMINATOR',
true);
end;
/

begin 
dbms_metadata.set_transform_param(
DBMS_METADATA.SESSION_TRANSFORM,
--'PRETTY',
--'SIZE_BYTE_KEYWORD',
--'TABLESPACE',
'STORAGE',
FALSE
);
end;
/

handle expired connection properly!